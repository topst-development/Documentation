# 1. はじめに
---
このドキュメントでは、D3-Gでサポートされているブートモードについて説明します。
 
<br/><br/><br/>
 
# 2. D3-Gのブートモード
---
D3-Gは3つのブートモードをサポートしています。
- USBブートモード (FWDN)
- eMMCブートモード (GPIO_SD0グループ)
- SNORおよびeMMCブートモード (オプション)
 
図 2.1は、D3-G上のブートモード抵抗の位置を示しています。抵抗はボードの底面にあります。D3-GはデフォルトでeMMCブートモードに固定されています。eMMCデバイスにブートイメージがない場合、ブートモードは自動的にUSBブートモードに切り替わります。
 
<p align="center"><img src="https://raw.githubusercontent.com/topst-development/Documentation/refs/heads/main/Assets/TOPST%20D3-G/Hardware/2.6%20boot%20mode-related%20registors.png" width="400"></p>
<p align="center"><strong>図 2.1 ブートモード関連の抵抗 </strong></p>
 
<br/><br/><br/>
 
## 2.1 USBブートモード (FWDN)
---
図 2.2は、ブートモードスイッチとリセットスイッチを示しています。USBブートモードはファームウェアの更新に使用されます。FWDNモードに入るには、ブートモードスイッチとリセットスイッチの両方が必要です。イメージをアップロードするときは、この方法を使用することをお勧めします。
 
<p align="center"><img src="https://raw.githubusercontent.com/topst-development/Documentation/refs/heads/main/Assets/TOPST%20D3-G/Hardware/Boot%20Mode%20Switch%20and%20RESET%20Switch%20for%20Entering%20FWDN%20Boot%20Mode.png" width="600"></p>
<p align="center"><strong>図 2.2 FWDNブートモードに入るためのブートモードスイッチとリセットスイッチ </strong></p>
 
 
 
次の手順では、USBブートモードに入るためのスイッチ操作について説明します。
1. 電源が供給されると、リセットスイッチの上にあるLEDが点灯します。
2. ブートモードスイッチを押し続けます。ブートモードスイッチを押すと、ブートモードスイッチの上にある赤いLEDが点灯します。スイッチを押し続けてLEDを点灯させたままにします。
3. リセットスイッチのLEDはデフォルトで緑色です。リセットスイッチを1回押すと、緑色のLEDが消灯し、再び点灯します。
4. ブートモードスイッチを放します。
 
図 2.3は、USBブートモード (FWDN) に入るためのブートモードスイッチとリセットスイッチの操作シーケンスを示しています。
 
<p align="center"><img src="https://raw.githubusercontent.com/topst-development/Documentation/refs/heads/main/Assets/TOPST%20D3-G/Hardware/Sequence%20of%20Entering%20USB%20Boot%20Mode%20(FWDN).png"></p>
<p align="center"><strong>図 2.3 USBブートモード (FWDN) に入るシーケンス  </strong></p>
 
<br/><br/><br/>
 
## 2.2 SNORおよびeMMCブートモード
---
SNORおよびeMMCブートモードはオプションです。このブートモードを使用するには、SNOR ICをボードに実装し、ブートモード抵抗の表面実装技術 (SMT) を変更する必要があります。
図 2.4は、SNORおよびeMMCブートモードを使用するために必要な変更を示しています。
 
 
<p align="center"><img src="https://raw.githubusercontent.com/topst-development/Documentation/refs/heads/main/Assets/TOPST%20D3-G/Hardware/Required%20Changes%20for%20Using%20SNOR%20and%20eMMC%20Boot%20Mode.png"></p>
<p align="center"><strong>図 2.4 SNORおよびeMMCブートモードを使用するために必要な変更  </strong></p>
 